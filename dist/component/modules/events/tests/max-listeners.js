var common=require("./common"),assert=require("assert"),events=require("../"),e=new events.EventEmitter,hasDefineProperty=!!Object.defineProperty;try{Object.defineProperty({},"x",{value:0})}catch(e){hasDefineProperty=!1}e.on("maxListeners",common.mustCall()),e.setMaxListeners(42);for(var throwsObjs=[NaN,-1,"and even this"],maxError=/^RangeError: The value of "n" is out of range\. It must be a non-negative number\./,defError=/^RangeError: The value of "defaultMaxListeners" is out of range\. It must be a non-negative number\./,i=0;i<throwsObjs.length;i++){var obj=throwsObjs[i];assert.throws((function(){e.setMaxListeners(obj)}),maxError),hasDefineProperty&&assert.throws((function(){events.defaultMaxListeners=obj}),defError)}e.emit("maxListeners");
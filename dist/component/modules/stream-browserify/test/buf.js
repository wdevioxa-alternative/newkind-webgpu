var path=require("path"),test=require("tape"),Buffer=require("safe-buffer").Buffer,Writable=require("../").Writable,inherits=require("inherits");function TestWritable(e){if(!(this instanceof TestWritable))return new TestWritable(e);Writable.call(this,e),this._written=[]}inherits(TestWritable,Writable),TestWritable.prototype._write=function(e,t,r){this._written.push(e),r()};var buf=Buffer.from([88]);test(".writable writing ArrayBuffer",(function(e){var t=new TestWritable;t.write(buf),t.end(),e.equal(t._written.length,1),e.equal(t._written[0].toString(),"X"),e.end()}));
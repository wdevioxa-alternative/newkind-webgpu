import require$$0 from"../../events/dist/index.js";import require$$1 from"../../inherits/dist/index.js";import require$$2 from"../../readable-stream/dist/readable.js";import require$$3 from"../../readable-stream/dist/writable.js";import require$$4 from"../../readable-stream/dist/duplex.js";import require$$5 from"../../readable-stream/dist/transform.js";import require$$6 from"../../readable-stream/dist/passthrough.js";var streamBrowserify=Stream,EE=require$$0.EventEmitter,inherits=require$$1;function Stream(){EE.call(this)}inherits(Stream,EE),Stream.Readable=require$$2,Stream.Writable=require$$3,Stream.Duplex=require$$4,Stream.Transform=require$$5,Stream.PassThrough=require$$6,Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){var t=this;function i(r){e.writable&&!1===e.write(r)&&t.pause&&t.pause()}function o(){t.readable&&t.resume&&t.resume()}t.on("data",i),e.on("drain",o),e._isStdio||r&&!1===r.end||(t.on("end",a),t.on("close",n));var s=!1;function a(){s||(s=!0,e.end())}function n(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function m(e){if(u(),0===EE.listenerCount(this,"error"))throw e}function u(){t.removeListener("data",i),e.removeListener("drain",o),t.removeListener("end",a),t.removeListener("close",n),t.removeListener("error",m),e.removeListener("error",m),t.removeListener("end",u),t.removeListener("close",u),e.removeListener("close",u)}return t.on("error",m),e.on("error",m),t.on("end",u),t.on("close",u),e.on("close",u),e.emit("pipe",t),e};export{streamBrowserify as default};